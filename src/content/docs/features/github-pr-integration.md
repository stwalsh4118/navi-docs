---
title: GitHub PR Integration
sidebar:
  order: 8
---

<!-- auto-generated by sync-docs -->

## Overview

Navi displays comprehensive GitHub PR context directly in the TUI ‚Äî CI/CD check statuses, review state, comments, labels, draft/merge status, and change statistics ‚Äî so you never need to leave the terminal to understand your PR's status.

## Quick Start

1. Install the `gh` CLI and authenticate (`gh auth login`)
2. Open a session working on a branch with an open PR
3. The session row shows a compact PR indicator: `[PR#42 ‚úì]`
4. Press `G` to open the full git detail view with PR metadata
5. Press `c` to read PR comments, `r` to refresh, `o` to open in browser

## Inline PR Indicator

Each session row shows at-a-glance PR status:

| Indicator | Meaning |
|-----------|---------|
| `[PR#42 ‚úì]` | All checks passing |
| `[PR#42 ‚úó]` | Checks failing |
| `[PR#42 ‚óè]` | Checks pending/running |
| `[PR#42 ‚úì üí¨5]` | Passing with 5 comments |
| `[PR#42 draft]` | Draft PR |

## Git Detail View

Press `G` to open the full detail view showing:

- **PR title and state** ‚Äî Color-coded OPEN/CLOSED/MERGED
- **Draft indicator** ‚Äî `(draft)` in dimmed text for draft PRs
- **Merge status** ‚Äî `‚úì No conflicts`, `‚úó Has conflicts`, or `? Unknown`
- **Review status** ‚Äî `‚úì Approved by alice, bob` / `‚úó Changes requested by alice` / `‚è≥ Review pending`
- **Labels** ‚Äî PR labels displayed in dimmed text
- **Changed files** ‚Äî `12 files (+340 / -85)`
- **CI/CD checks** ‚Äî Individual checks with status icons (`‚úì` passed, `‚úó` failed, `‚óè` pending)
- **Check summary** ‚Äî `Checks (3/4 passed)`

### Detail View Keybindings

| Key | Action |
|-----|--------|
| `r` | Refresh PR data from GitHub |
| `c` | View PR comments |
| `o` | Open PR in browser |
| `d` | View git diff |
| `Esc` | Close detail view |

## Comment Viewer

Press `c` from the git detail view to open a scrollable panel showing all PR comments:

- Review comments include file path and line number: `[filename.go:42]`
- General comments show author, timestamp, and body
- All comments sorted chronologically
- Scrollable with `j`/`k`, `PgUp`/`PgDn`, `g`/`G`

## Auto-Refresh

When the git detail view is open and checks are pending:

- PR data refreshes automatically every 30 seconds
- The ticker starts when pending checks are detected
- Stops automatically when all checks reach a terminal state
- Manual refresh (`r`) resets the interval
- Display shows `Auto-refreshing...` indicator

## How It Works

### Data Fetching

PR metadata is fetched on-demand (not during regular polling) using the `gh` CLI:

```bash
gh pr view --json number,title,state,isDraft,mergeable,labels,changedFiles,additions,deletions,reviewDecision,reviews,comments,statusCheckRollup,url
```

For remote sessions, the `-R owner/repo` flag is used instead of relying on the local git directory.

Comments are fetched via the GitHub API:

```bash
gh api repos/{owner}/{repo}/pulls/{number}/comments   # Review comments
gh api repos/{owner}/{repo}/issues/{number}/comments   # General comments
```

Both types are merged and sorted chronologically.

### Caching

- PR detail is cached per session with a 60-second TTL
- Lazy-loaded only when the user opens the git detail view
- Does not affect the existing 5-second git info polling cycle

### Check Status Aggregation

Checks are classified as:

| Classification | Criteria |
|---------------|----------|
| **Passed** | Status=COMPLETED and Conclusion=SUCCESS |
| **Failed** | Status=COMPLETED and Conclusion=FAILURE/CANCELLED/TIMED_OUT |
| **Pending** | Everything else (IN_PROGRESS, QUEUED, etc.) |

Both GitHub Check Runs and Status Contexts are handled.

## Configuration

No additional configuration required. The `gh` CLI must be installed and authenticated. PR detection uses the existing git remote URL to determine the repository.

## Related Features

- [Git Integration](/features/git-integration/) ‚Äî Branch, status, and diff display
- [Content Viewer](/features/content-viewer/) ‚Äî Scrollable viewer used for comments
- [Remote Sessions](/features/remote-sessions/) ‚Äî PR features work for remote sessions
